{% extends "base.html" %} {% block content %}

{% url 'view_full_post' as view_full_post %}

{% if user.is_authenticated and user.username == username %}
<h1>Hello, {{ user.username }}</h1>
{% else %}
<h1>{{ username }}'s Profile</h1>
{% endif %}

<!-- User Rank Information -->
<h2>Your Rank: {{ user_rank.wafflescore }}</h2>
<div class="row">
  <div class="col-12 col-md-4">
    <p>
      Full Name:{% if user_rank.full_name == "" %} {{ username }} Has not put
      their full name {% else %}{{ user_rank.full_name }}{% endif %}
    </p>
    <p>Bio: {{ user_rank.bio }}</p>
    <p>Date of First Entry: {{ user_rank.dof }}</p>
  </div>
</div>

<!--If statement to display users posts if they have any-->
<div class="row">
  {% if post_count == 0 %}
  <div class="col-12 col-md-8">
    <h3>{{ username }} is Yet to Waffle.</h3>
  </div>
  {% else %}
  <div class="col-12 col-md-8">
    <h3>{{ username }}'s Posts</h3>
    <div class="row">
      <ul>
        {% for post in posts %}
        <div class="post col-lg-6 col-12 mb-4">
          <h2>{{ post.title }}</h2>
          <div class="author">Written by {{ post.author }}</div>
          <div class="created_on">Created on: {{ post.created_on|date:"F j, Y" }}</div>
          <div class="content">{{ post.content|safe }}</div>
          <a class="full-post-button" href="{% if post_count == 0 %}#{% else %}{{ view_full_post }}{% endif %}">See Full
            Post</a>
        </div>
      </ul>
      {% endfor %}
    </div>
  </div>
</div>
{% endif %}




{% endblock %}